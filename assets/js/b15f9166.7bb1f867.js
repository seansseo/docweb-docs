"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2475],{6272(e,r,s){s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>a,frontMatter:()=>c,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"core-concepts/architecture","title":"Architecture","description":"DocWeb\'s architecture is designed for scalability and real-time performance.","source":"@site/docs/core-concepts/architecture.md","sourceDirName":"core-concepts","slug":"/core-concepts/architecture","permalink":"/docs/docs/core-concepts/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/core-concepts/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Core Concepts","permalink":"/docs/docs/core-concepts/"},"next":{"title":"Waterfall Discovery","permalink":"/docs/docs/core-concepts/waterfall-discovery"}}');var t=s(4848),d=s(8453);const c={},i="Architecture",l={},h=[{value:"System Overview",id:"system-overview",level:2},{value:"Frontend Stack",id:"frontend-stack",level:2},{value:"Backend Stack (Cloud Functions)",id:"backend-stack-cloud-functions",level:2},{value:"AI Models",id:"ai-models",level:2},{value:"Data Flow",id:"data-flow",level:2},{value:"Global Caching Layer",id:"global-caching-layer",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,t.jsx)(r.p,{children:"DocWeb's architecture is designed for scalability and real-time performance."}),"\n",(0,t.jsx)(r.h2,{id:"system-overview",children:"System Overview"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"                                +------------------+\n                                |   Firebase Auth  |\n                                +--------+---------+\n                                         |\n+------------------+          +----------v-----------+\n|                  |   HTTPS  |                      |\n|  Next.js Frontend+----------\x3e  Firebase Functions  |\n|  (React 19)      |          |  (Node.js 20)        |\n|                  <----------+                      |\n+--------+---------+  Realtime+----------+-----------+\n         |            Firestore          |\n         |                               |\n+--------v---------+          +----------v-----------+\n|                  |          |                      |\n|  Sigma.js Graph  |          |  Google Gemini AI    |\n|  Visualization   |          |  (2.5 Flash)         |\n|                  |          |                      |\n+------------------+          +----------+-----------+\n                                         |\n                              +----------v-----------+\n                              |                      |\n                              |  Firestore Database  |\n                              |  + Global Embeddings |\n                              |                      |\n                              +----------------------+\n"})}),"\n",(0,t.jsx)(r.h2,{id:"frontend-stack",children:"Frontend Stack"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Technology"}),(0,t.jsx)(r.th,{children:"Version"}),(0,t.jsx)(r.th,{children:"Purpose"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Next.js"}),(0,t.jsx)(r.td,{children:"16.1.1"}),(0,t.jsx)(r.td,{children:"React framework with App Router"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"React"}),(0,t.jsx)(r.td,{children:"19.2.3"}),(0,t.jsx)(r.td,{children:"UI library"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"TypeScript"}),(0,t.jsx)(r.td,{children:"5.x"}),(0,t.jsx)(r.td,{children:"Type safety"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Tailwind CSS"}),(0,t.jsx)(r.td,{children:"4.x"}),(0,t.jsx)(r.td,{children:"Styling"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Sigma.js"}),(0,t.jsx)(r.td,{children:"3.0.2"}),(0,t.jsx)(r.td,{children:"WebGL graph rendering"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"@react-sigma/core"}),(0,t.jsx)(r.td,{children:"5.0.6"}),(0,t.jsx)(r.td,{children:"React bindings for Sigma"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"graphology"}),(0,t.jsx)(r.td,{children:"0.26.0"}),(0,t.jsx)(r.td,{children:"Graph data structure"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"d3-polygon"}),(0,t.jsx)(r.td,{children:"3.0.1"}),(0,t.jsx)(r.td,{children:"Cluster hull calculations"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Firebase"}),(0,t.jsx)(r.td,{children:"12.7.0"}),(0,t.jsx)(r.td,{children:"Auth, Firestore, Functions client"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"backend-stack-cloud-functions",children:"Backend Stack (Cloud Functions)"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Technology"}),(0,t.jsx)(r.th,{children:"Version"}),(0,t.jsx)(r.th,{children:"Purpose"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Node.js"}),(0,t.jsx)(r.td,{children:"20"}),(0,t.jsx)(r.td,{children:"Runtime"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"firebase-functions"}),(0,t.jsx)(r.td,{children:"6.3.0"}),(0,t.jsx)(r.td,{children:"Cloud Functions framework"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"firebase-admin"}),(0,t.jsx)(r.td,{children:"13.0.2"}),(0,t.jsx)(r.td,{children:"Admin SDK"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"@google/generative-ai"}),(0,t.jsx)(r.td,{children:"0.24.1"}),(0,t.jsx)(r.td,{children:"Gemini API client"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Cheerio"}),(0,t.jsx)(r.td,{children:"1.0.0"}),(0,t.jsx)(r.td,{children:"HTML parsing"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Turndown"}),(0,t.jsx)(r.td,{children:"7.2.2"}),(0,t.jsx)(r.td,{children:"HTML to Markdown conversion"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Axios"}),(0,t.jsx)(r.td,{children:"1.7.9"}),(0,t.jsx)(r.td,{children:"HTTP client"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"robots-parser"}),(0,t.jsx)(r.td,{children:"3.0.1"}),(0,t.jsx)(r.td,{children:"robots.txt parsing"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Stripe"}),(0,t.jsx)(r.td,{children:"20.2.0"}),(0,t.jsx)(r.td,{children:"Payment processing"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"p-limit"}),(0,t.jsx)(r.td,{children:"3.1.0"}),(0,t.jsx)(r.td,{children:"Concurrency control"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"ai-models",children:"AI Models"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Model"}),(0,t.jsx)(r.th,{children:"Purpose"}),(0,t.jsx)(r.th,{children:"Dimensions"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"gemini-2.5-flash"}),(0,t.jsx)(r.td,{children:"Chat responses, content analysis"}),(0,t.jsx)(r.td,{children:"N/A"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"text-embedding-004"}),(0,t.jsx)(r.td,{children:"Vector embeddings"}),(0,t.jsx)(r.td,{children:"768"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"User Authentication"}),": Firebase Auth (Email/Password or Google OAuth)"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/docs/core-concepts/waterfall-discovery",children:"Discovery"})}),": Waterfall algorithm crawls the site structure"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/docs/core-concepts/url-classification",children:"URL Classification"})}),": Pages are categorized and prioritized"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Real-time Sync"}),": Firestore listeners push updates to the frontend"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/docs/features/visualization",children:"Visualization"})}),": Sigma.js renders the graph with ForceAtlas2 layout"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Content Scraping"}),": Cheerio extracts HTML, Turndown converts to Markdown"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Embedding Generation"}),": Gemini text-embedding-004 creates 768-dim vectors"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/docs/features/rag-chatbot",children:"RAG Chat"})}),": Hybrid search retrieves context, Gemini generates responses"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"global-caching-layer",children:"Global Caching Layer"}),"\n",(0,t.jsx)(r.p,{children:"All caching is shared across users for optimal performance:"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Cache Type"}),(0,t.jsx)(r.th,{children:"Collection"}),(0,t.jsx)(r.th,{children:"TTL"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Domain Cache"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"artifacts/global/domainCache"})}),(0,t.jsx)(r.td,{children:"24 hours"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Page Cache"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"artifacts/global/pageCache"})}),(0,t.jsx)(r.td,{children:"24 hours"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"Embeddings"}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"artifacts/global/embeddings"})}),(0,t.jsx)(r.td,{children:"Permanent"})]})]})]}),"\n",(0,t.jsxs)(r.p,{children:["See ",(0,t.jsx)(r.a,{href:"/docs/docs/features/caching",children:"Caching"})," for more details."]})]})}function a(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,r,s){s.d(r,{R:()=>c,x:()=>i});var n=s(6540);const t={},d=n.createContext(t);function c(e){const r=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(d.Provider,{value:r},e.children)}}}]);